\documentclass{article}

\include{assets/preamble}

\begin{document}

\begin{center}
  \Large\color{black!80}\textsc{Exercise 3}
\end{center}

Let's try use some of the things we learnt in the last section. If you
get stuck at any point put your hand up and I'll come over to help.

\begin{enumerate}[label=\color{purple}\theenumi.]

  \item Create a document \texttt{packages.tex} in the \texttt{sage\_latex}
    folder.

  \item{In \texttt{packages.tex} recreate the following table with the help of
    the \texttt{booktabs} package:

    \begin{table}[h]
      \begin{tabular}{@{}lrr@{}}
        \toprule
        & \textbf{Â£m} & \textbf{\$m (exchange rate as of 31.07.2018)} \\\midrule
        Funding Council Grants           & 70.0  & 91.7  \\
        Academic fees and support grants & 252.4 & 330.6 \\
        Research grants and contracts    & 109.4 & 143.3 \\
        Other operating income           & 73.7  & 95.5  \\
        Endowment income and interest    & 5.6   & 7.3   \\\midrule
        \textbf{Total} & \textbf{511.1} & \textbf{669.5} \\\bottomrule
      \end{tabular}
      \caption{Newcastle University income (year ended 31 July 2018)}
      \label{tab:newcy}
    \end{table}
  }

  \item Add a label to the table and refer to it in the text
    ``See \cref{tab:newcy}'', using the \texttt{cleveref} package.
    \textsl{Recall:} labels must be attached to the \texttt{caption} of the
    table.

  \item Add the \texttt{hyperref} package to the document's preamble.
    Compile \texttt{packages.tex}. \textsl{Note:} \texttt{hyperref} must be 
    loaded before \texttt{cleveref} in the preamble. 

  \item Take a look at
    \href{http://mirror.ox.ac.uk/sites/ctan.org/macros/latex/contrib/hyperref/doc/manual.pdf#page=10}
        {this list of options} that \texttt{hyperref} can take. Pass options to 
    \texttt{hyperref} so that:
    \begin{enumerate}[label=\color{purple}\roman*)]
      \item Links do not display with boxes around them
      \item Links are indicated by coloured text
      \item All links are coloured magenta
    \end{enumerate}
    \textsl{Hint:} take a look at the options \texttt{hidelinks},
    \texttt{colorlinks} and \texttt{allcolors}.

  \item \emph{Harder:} Download
    \href{https://jwalton.info/assets/teaching/latex/titanic35.csv}%
    {this dataset}. On a new page use \texttt{pgfplotstable} to read in 
    \texttt{titanic35.csv} and construct a table from the data. Once you have
    this then you should:
    \begin{enumerate}[label=\color{purple}\roman*)]
      \item Wrap \texttt{pgfplotstabletypeset} in a \texttt{table} environment
      \item Insert a \texttt{toprule} before the header row, and a
        \texttt{midrule} after the header row.
      \item Insert a \texttt{bottomrule} after the last row.
      \item Style the \texttt{Fare} column so that all the fares are shown to
        two decimal places.
      \item Align the entries in the \texttt{Fare} column by their decimal
        point. \emph{Hint:} pass the argument \texttt{dec sep align} to the 
        \texttt{Fare} column style.
      \item Style the \texttt{Age} column so that the ages are formatted as
        integers.
      \item Right align the content in the \texttt{Sex} column and the
        \texttt{Age} column.
      \item Add a table stripe to every even row. \emph{Hint:} Check out the 
        \texttt{every even row} argument, and include 
        \texttt{\tb usepackage[table]\{xcolor\}} in your preamble.
    \end{enumerate}
\end{enumerate}

\end{document}
